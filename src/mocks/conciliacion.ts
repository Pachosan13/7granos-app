export type ConciliacionRow = {
  fecha: string;
  sucursalId: string;
  sucursalNombre: string;
  ventasInvu: number;
  ventasGl: number;
  depositosBanco: number;
  diferencia: number;
  banco: string;
  estado: "ok" | "faltante" | "sobrante";
};

export const conciliacionMockRows: ConciliacionRow[] = [
  {
    fecha: "2024-04-01",
    sucursalId: "SCL-01",
    sucursalNombre: "Santiago Centro",
    ventasInvu: 2450,
    ventasGl: 2400,
    depositosBanco: 2420,
    diferencia: 20,
    banco: "Banco Estado",
    estado: "ok",
  },
  {
    fecha: "2024-04-02",
    sucursalId: "SCL-01",
    sucursalNombre: "Santiago Centro",
    ventasInvu: 2520,
    ventasGl: 2500,
    depositosBanco: 2440,
    diferencia: -60,
    banco: "Banco Estado",
    estado: "faltante",
  },
  {
    fecha: "2024-04-03",
    sucursalId: "SCL-01",
    sucursalNombre: "Santiago Centro",
    ventasInvu: 2600,
    ventasGl: 2610,
    depositosBanco: 2650,
    diferencia: 50,
    banco: "Banco Estado",
    estado: "sobrante",
  },
  {
    fecha: "2024-04-01",
    sucursalId: "SCL-02",
    sucursalNombre: "Las Condes",
    ventasInvu: 2180,
    ventasGl: 2200,
    depositosBanco: 2190,
    diferencia: -10,
    banco: "Santander",
    estado: "faltante",
  },
  {
    fecha: "2024-04-02",
    sucursalId: "SCL-02",
    sucursalNombre: "Las Condes",
    ventasInvu: 2250,
    ventasGl: 2260,
    depositosBanco: 2275,
    diferencia: 25,
    banco: "Santander",
    estado: "sobrante",
  },
  {
    fecha: "2024-04-03",
    sucursalId: "SCL-02",
    sucursalNombre: "Las Condes",
    ventasInvu: 2310,
    ventasGl: 2300,
    depositosBanco: 2290,
    diferencia: -10,
    banco: "Santander",
    estado: "faltante",
  },
  {
    fecha: "2024-04-04",
    sucursalId: "SCL-02",
    sucursalNombre: "Las Condes",
    ventasInvu: 2360,
    ventasGl: 2350,
    depositosBanco: 2360,
    diferencia: 10,
    banco: "Santander",
    estado: "ok",
  },
  {
    fecha: "2024-04-01",
    sucursalId: "VAP-01",
    sucursalNombre: "Valparaíso Puerto",
    ventasInvu: 1840,
    ventasGl: 1820,
    depositosBanco: 1800,
    diferencia: -20,
    banco: "BCI",
    estado: "faltante",
  },
  {
    fecha: "2024-04-02",
    sucursalId: "VAP-01",
    sucursalNombre: "Valparaíso Puerto",
    ventasInvu: 1910,
    ventasGl: 1890,
    depositosBanco: 1925,
    diferencia: 35,
    banco: "BCI",
    estado: "sobrante",
  },
  {
    fecha: "2024-04-03",
    sucursalId: "VAP-01",
    sucursalNombre: "Valparaíso Puerto",
    ventasInvu: 1960,
    ventasGl: 1950,
    depositosBanco: 1950,
    diferencia: 0,
    banco: "BCI",
    estado: "ok",
  },
  {
    fecha: "2024-04-04",
    sucursalId: "VAP-01",
    sucursalNombre: "Valparaíso Puerto",
    ventasInvu: 2025,
    ventasGl: 2010,
    depositosBanco: 2000,
    diferencia: -10,
    banco: "BCI",
    estado: "faltante",
  },
  {
    fecha: "2024-04-01",
    sucursalId: "VAP-02",
    sucursalNombre: "Viña Mall",
    ventasInvu: 1650,
    ventasGl: 1660,
    depositosBanco: 1675,
    diferencia: 15,
    banco: "Itaú",
    estado: "sobrante",
  },
  {
    fecha: "2024-04-02",
    sucursalId: "VAP-02",
    sucursalNombre: "Viña Mall",
    ventasInvu: 1710,
    ventasGl: 1690,
    depositosBanco: 1680,
    diferencia: -10,
    banco: "Itaú",
    estado: "faltante",
  },
  {
    fecha: "2024-04-03",
    sucursalId: "VAP-02",
    sucursalNombre: "Viña Mall",
    ventasInvu: 1780,
    ventasGl: 1770,
    depositosBanco: 1780,
    diferencia: 10,
    banco: "Itaú",
    estado: "ok",
  },
  {
    fecha: "2024-04-04",
    sucursalId: "VAP-02",
    sucursalNombre: "Viña Mall",
    ventasInvu: 1820,
    ventasGl: 1810,
    depositosBanco: 1800,
    diferencia: -10,
    banco: "Itaú",
    estado: "faltante",
  },
  {
    fecha: "2024-04-05",
    sucursalId: "VAP-02",
    sucursalNombre: "Viña Mall",
    ventasInvu: 1900,
    ventasGl: 1890,
    depositosBanco: 1910,
    diferencia: 20,
    banco: "Itaú",
    estado: "sobrante",
  },
  {
    fecha: "2024-04-05",
    sucursalId: "SCL-01",
    sucursalNombre: "Santiago Centro",
    ventasInvu: 2700,
    ventasGl: 2680,
    depositosBanco: 2690,
    diferencia: 10,
    banco: "Banco Estado",
    estado: "ok",
  },
  {
    fecha: "2024-04-05",
    sucursalId: "SCL-02",
    sucursalNombre: "Las Condes",
    ventasInvu: 2420,
    ventasGl: 2410,
    depositosBanco: 2400,
    diferencia: -10,
    banco: "Santander",
    estado: "faltante",
  },
];

export function getConciliacionResumen(rows: ConciliacionRow[]) {
  return rows.reduce(
    (acc, row) => ({
      ventasInvu: acc.ventasInvu + row.ventasInvu,
      ventasGl: acc.ventasGl + row.ventasGl,
      depositosBanco: acc.depositosBanco + row.depositosBanco,
      diferenciaTotal: acc.diferenciaTotal + row.diferencia,
    }),
    { ventasInvu: 0, ventasGl: 0, depositosBanco: 0, diferenciaTotal: 0 }
  );
}
